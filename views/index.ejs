<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Гарантийные задачи СДЭК</title>
    <style>
        body {
    background-color: #a3a3a3;
    background-image: url("https://www.transparenttextures.com/patterns/black-thread.png");
    /* This is mostly intended for prototyping; please download the pattern and re-host for production environments. Thank you! */
}

.container {
    display: grid;
    grid-template-rows: 80px auto 80px 80px;
    grid-gap: 20px;
  }

.item-1 {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  background-color: #a3a3a3ff;
}

.item-2 {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  background-color: #a3a3a3ff;
}

.text {
  height: 30px;
  width: 500px;
  text-align: center;
  font-size: 20px;
  font-family: Andale Mono, monospace;
}

.button {
  width: 65%;
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
}

.buttonIn {
  height: 30px;
  margin: 5px;
  text-align: center;
}

table {
  width: 90%;
  text-align: center;
}

td {
  border: solid 1px black;
  font-size: 20px;
  font-family: Andale Mono, monospace;
}
    </style>
</head>
<body>
    <div class="container">
        <div class="item item-1">
            <div class="text">Трекинг Гарантийных задач в СДЭК</div>
        </div>
        <div class="item item-2">
            <table>
                <tbody>
                    <tr>
                        <td>ЗК</td>
                        <td>Трек</td>
                        <td>Статус</td>
                        <td>Компания</td>
                        <td>Стоимость</td>
                        <td>Дата прибытия</td>
                    </tr>
                </tbody>
                <tbody>
                    <% for(let i=0; i < finishInfo.length; i++) { %>
                    <tr>
                        <td><%= finishInfo[i].name %></td>
                        <td><%= finishInfo[i].trek %></td>
                        <td><%= finishInfo[i].status %></td>
                        <td><%= finishInfo[i].company %></td>
                        <td><%= finishInfo[i].totalSum %> р</td>
                        <td><%= finishInfo[i].date %></td>
                    </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
        <div class="item item-3">
            <div class="button">
                <input class="buttonIn" type="text" id="nameOrder" placeholder="Ваш заказ">
                <input class="buttonIn" type="text" id="trek" placeholder="Ваш трек">
                <button class="buttonIn" onclick="sendJSON()">Добавить ЗК</button>
            </div>
        </div>
        <div class="item item-4">
            <div class="button">
                <input class="buttonIn" type="text" id="nameOrderDelete" placeholder="Ваш заказ">
                <button class="buttonIn" onclick="sendJSONdel()">Удалить ЗК</button>
            </div>
        </div>
    </div>
    <script >
        const url = "http://localhost"
    function sendJSON() {
        let data = JSON.stringify({"name": nameOrder.value, "trek": trek.value})
        fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json; charset=utf-8'
            },
            body: data
        })
        window.location.reload()
    }
        function sendJSONdel() {
        let data = JSON.stringify({"name": nameOrderDelete.value})
        fetch(url, {
            method: 'DELETE',
            headers: {
                'Content-Type': 'application/json; charset=utf-8'
            },
            body: data
        })
        window.location.reload()
    }
    </script>
</body>
</html>